---
title: Linux 中挂载 WebDAV
date: 2025-08-28 17:47:00
---

 Linux 中挂载 WebDAV 并实现开机自动挂载。

---

## 一、安装 davfs2

WebDAV 协议需要依赖 `davfs2` 工具。首先更新软件源并安装：

```bash
sudo apt update
sudo apt install davfs2 -y
```

---

## 二、手动挂载 WebDAV

1. **创建挂载目录**
    
    ```bash
    sudo mkdir -vp /mnt/webdav
    ```
    
2. **挂载 WebDAV**
    
    ```bash
    sudo mount -t davfs http://<webdav-server>:<port>/<path> /mnt/webdav
    ```
    
    执行后会提示输入 WebDAV 用户名和密码，认证成功即可访问。
    
3. **取消挂载**
    
    ```bash
    sudo umount /mnt/webdav
    ```
    
4. **验证挂载**
    
    ```bash
    ls /mnt/webdav
    ```
    

---

## 三、配置开机自动挂载

为了避免每次重启都要手动挂载，我们可以设置 **开机自动挂载**。

### 1. 修改 davfs2 配置

编辑配置文件：

```bash
sudo vi /etc/davfs2/davfs2.conf
```

找到并修改以下配置（去掉注释符 `#`）：

```ini
use_locks 0
```

> 说明：关闭 WebDAV 的文件锁定功能，避免部分服务不兼容导致文件写入失败。

---

### 2. 保存 WebDAV 认证信息

编辑认证文件：

```bash
sudo vi /etc/davfs2/secrets
```

在文件末尾添加账号密码（示例）：

```
http://<webdav-server>:<port>/<path> <username> <password>
```

---

### 3. 配置 fstab 自动挂载

编辑 `fstab` 文件：

```bash
sudo vi /etc/fstab
```

在文件末尾添加：

```
http://<webdav-server>:<port>/<path> /mnt/webdav davfs rw,user,_netdev 0 0
```

参数说明：

- **_netdev**：确保网络可用时再挂载，否则可能会因系统启动过早而失败。
    
- **rw**：读写权限。
    
- **user**：允许普通用户挂载（默认仅 root 可挂载）。
    

保存后，执行以下命令测试挂载是否成功：

```bash
sudo mount -a
```

